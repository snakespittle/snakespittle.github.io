!function(e){"use strict";var n=function(n){var p=e("<span />",{class:"collapser",on:{click:function(){var n=e(this);n.toggleClass("collapsed");var p=n.parent().children(".block"),a=p.children("ul");n.hasClass("collapsed")?(a.hide(),p.children(".dots, .comments").show()):(a.show(),p.children(".dots, .comments").hide())}}});return n&&p.addClass("collapsed"),p},p=function(p,a){var t=e.extend({},{nl2br:!0},a),l=function(e){return e.toString()?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},s=function(n,p){return e("<span />",{class:p,html:l(n)})},r=function(p,a){switch(e.type(p)){case"object":a||(a=0);var d=e("<span />",{class:"block"}),c=Object.keys(p).length;if(!c)return d.append(s("{","b")).append(" ").append(s("}","b"));d.append(s("{","b"));var o=e("<ul />",{class:"obj collapsible level"+a});return e.each(p,function(p,t){c--;var l=e("<li />").append(s('"',"q")).append(p).append(s('"',"q")).append(": ").append(r(t,a+1));["object","array"].indexOf(e.type(t))===-1||e.isEmptyObject(t)||l.prepend(n(window.jsonview_pre_collapsed)),c>0&&l.append(","),o.append(l)}),d.append(o),d.append(s("...","dots")),d.append(s("}","b")),1===Object.keys(p).length?d.append(s("// 1 item","comments")):d.append(s("// "+Object.keys(p).length+" items","comments")),d;case"array":a||(a=0);var c=p.length,d=e("<span />",{class:"block"});if(!c)return d.append(s("[","b")).append(" ").append(s("]","b"));d.append(s("[","b"));var o=e("<ul />",{class:"obj collapsible level"+a});return e.each(p,function(p,t){c--;var l=e("<li />").append(r(t,a+1));["object","array"].indexOf(e.type(t))===-1||e.isEmptyObject(t)||l.prepend(n(window.jsonview_pre_collapsed)),c>0&&l.append(","),o.append(l)}),d.append(o),d.append(s("...","dots")),d.append(s("]","b")),1===p.length?d.append(s("// 1 item","comments")):d.append(s("// "+p.length+" items","comments")),d;case"string":if(p=l(p),/^(http|https|file):\/\/[^\s]+$/i.test(p))return e("<span />").append(s('"',"q")).append(e("<a />",{href:p,text:p})).append(s('"',"q"));if(t.nl2br){var i=/\n/g;i.test(p)&&(p=(p+"").replace(i,"<br />"))}var u=e("<span />",{class:"str"}).html(p);return e("<span />").append(s('"',"q")).append(u).append(s('"',"q"));case"number":return s(p.toString(),"num");case"undefined":return s("undefined","undef");case"null":return s("null","null");case"boolean":return s(p?"true":"false","bool")}};return r(p)};return e.fn.jsonView=function(n,a){var t=e(this);if("undefined"==typeof window.jsonview_pre_collapsed&&(window.jsonview_pre_collapsed=!0),a=e.extend({},{nl2br:!0},a),"string"==typeof n)try{n=JSON.parse(n)}catch(e){}var l="json-view";return window.jsonview_pre_collapsed&&(l+=window.jsonview_pre_collapsed_level>0?" pre-collapsed-level-"+window.jsonview_pre_collapsed_level:" pre-collapsed"),t.append(e("<div />",{class:l}).append(p(n,a))),t}}(jQuery);